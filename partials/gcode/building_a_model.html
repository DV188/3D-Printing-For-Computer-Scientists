<h1>Building A Model Using G-code</h1>

<p>Every <a href="https://en.wikipedia.org/wiki/G-code">G-code</a> document created has some preamble to set up the working environment required for the print to be completed.  But, what makes up the bulk of the document are the print head movements.  These movements specify what position the printer extruder head will be moved to while the print is in progress.</p>

<h3>The Move Command</h3>

<p>Both the G0 and G1 commands are reserved for movement.  G0 is a rapid linear movement and G1 is a regular linear movement.  The parameters for both include a Cartesian position, the extrusion amount, the feed rate for the filament, and a signal flag in case the end stop has been hit.</p>

<pre><code class="gcode hljs"><span class="hljs-name">G0</span> X100 Y100 Z100 <span class="hljs-comment">(Rapid linear move.)</span>
<span class="hljs-name">G1</span> X100 Y100 Z100 <span class="hljs-comment">(Linear move.)</span></code></pre>

<h3>Complete G-code Cube</h3>

<p>In this example, we will take a look at a complete set of G-code created by <a href="http://slic3r.org/">Slic3r</a> to complete a cube we created <a href="#/3d_models_in_openscad">earlier</a> in <a href="http://www.openscad.org/">OpenSCAD</a>.  In order to make the G-code slightly more comprehensible, some Slic3r settings will be adjusted to simplify the model build settings.</p>

<p>To create a simple cube, we will turn off some quality of life features provided by Slic3r to your 3D printer.  These settings include having no brim, single layer perimeters, single layer top and bottom, no support, and no infill.</p>

<a href="img/gcode/layers_and_perimeters.png"><img ng-src="img/gcode/layers_and_perimeters.png" id="centered"></a>

<a href="img/gcode/infill.png"><img ng-src="img/gcode/infill.png" id="centered"></a>

<a href="img/gcode/skirt_and_brim.png"><img ng-src="img/gcode/skirt_and_brim.png" id="centered"></a>

<a href="img/gcode/support_material.png"><img ng-src="img/gcode/support_material.png" id="centered"></a>

<p>With these settings in place, the G-code generated is very simplistic and straight forward to understand.  The preamble as discussed <a href="#/gcode_basics">earlier</a> is present.  Following the preamble, movement commands can be read in groups ending with the G92 command.</p>

<p>The G-code for the cube is as follows:</p>

<a href="openscad_models/simple_cube.gcode"><h5>simple_cube.gcode</h5></a>

<pre><code class="gcode hljs">  1|  <span class="hljs-comment">; generated by Slic3r 0.9.9 on 2016-03-16 at 13:19:35</span>
  2|  <span class="hljs-comment">; layer_height = 0.4</span>
  3|  <span class="hljs-comment">; perimeters = 1</span>
  4|  <span class="hljs-comment">; top_solid_layers = 1</span>
  5|  <span class="hljs-comment">; bottom_solid_layers = 1</span>
  6|  <span class="hljs-comment">; fill_density = 0</span>
  7|  <span class="hljs-comment">; perimeter_speed = 30</span>
  8|  <span class="hljs-comment">; infill_speed = 60</span>
  9|  <span class="hljs-comment">; travel_speed = 130</span>
 10|  <span class="hljs-comment">; nozzle_diameter = 0.5</span>
 11|  <span class="hljs-comment">; filament_diameter = 3</span>
 12|  <span class="hljs-comment">; extrusion_multiplier = 1</span>
 13|  <span class="hljs-comment">; perimeters extrusion width = 0.53mm</span>
 14|  <span class="hljs-comment">; infill extrusion width = 0.53mm</span>
 15|  <span class="hljs-comment">; solid infill extrusion width = 0.53mm</span>
 16|  <span class="hljs-comment">; top infill extrusion width = 0.53mm</span>
 17|  <span class="hljs-comment">; first layer extrusion width = 0.70mm</span>
 18|  
 19|  <span class="hljs-name">G21</span> <span class="hljs-comment">; set units to millimeters</span>
 20|  <span class="hljs-name">M107</span>
 21|  <span class="hljs-name">M104</span> S200 <span class="hljs-comment">; set temperature</span>
 22|  <span class="hljs-name">G28</span> <span class="hljs-comment">; home all axes</span>
 23|  <span class="hljs-name">G1</span> Z5 F5000 <span class="hljs-comment">; lift nozzle</span>
 24|  
 25|  <span class="hljs-name">M109</span> S200 <span class="hljs-comment">; wait for temperature to be reached</span>
 26|  <span class="hljs-name">G90</span> <span class="hljs-comment">; use absolute coordinates</span>
 27|  <span class="hljs-name">G92</span> E0
 28|  <span class="hljs-name">M82</span> <span class="hljs-comment">; use absolute distances for extrusion</span>
 29|  <span class="hljs-name">G1</span> F1800.000 E-1.00000
 30|  <span class="hljs-name">G92</span> E0
 31|  <span class="hljs-name">G1</span> Z0.350 F7800.000
 32|  <span class="hljs-name">G1</span> X97.829 Y97.829
 33|  <span class="hljs-name">G1</span> F1800.000 E1.00000
 34|  <span class="hljs-name">G1</span> X102.171 Y97.829 F600.000 E1.14130
 35|  <span class="hljs-name">G1</span> X102.171 Y102.171 E1.28260
 36|  <span class="hljs-name">G1</span> X97.829 Y102.171 E1.42389
 37|  <span class="hljs-name">G1</span> X97.829 Y97.927 E1.56198
 38|  <span class="hljs-name">G1</span> X98.305 Y101.695 F7800.000
 39|  <span class="hljs-name">G1</span> X98.305 Y100.726 F600.000 E1.59484
 40|  <span class="hljs-name">G1</span> X99.274 Y101.695 E1.64131
 41|  <span class="hljs-name">G1</span> X100.242 Y101.695 E1.67416
 42|  <span class="hljs-name">G1</span> X98.305 Y99.758 E1.76708
 43|  <span class="hljs-name">G1</span> X98.305 Y98.789 E1.79993
 44|  <span class="hljs-name">G1</span> X101.211 Y101.695 E1.93931
 45|  <span class="hljs-name">G1</span> X101.695 Y101.211 E1.96254
 46|  <span class="hljs-name">G1</span> X98.789 Y98.305 E2.10192
 47|  <span class="hljs-name">G1</span> X99.758 Y98.305 E2.13477
 48|  <span class="hljs-name">G1</span> X101.695 Y100.242 E2.22769
 49|  <span class="hljs-name">G1</span> X101.695 Y99.274 E2.26054
 50|  <span class="hljs-name">G1</span> X100.726 Y98.305 E2.30701
 51|  <span class="hljs-name">G1</span> X101.695 Y98.305 E2.33987
 52|  <span class="hljs-name">M106</span> S255
 53|  <span class="hljs-name">G1</span> F1800.000 E1.33987
 54|  <span class="hljs-name">G92</span> E0
 55|  <span class="hljs-name">G1</span> Z0.750 F7800.000
 56|  <span class="hljs-name">G1</span> X102.240 Y97.760
 57|  <span class="hljs-name">G1</span> F1800.000 E1.00000
 58|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
 59|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
 60|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
 61|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
 62|  <span class="hljs-name">G1</span> F1800.000 E0.52469
 63|  <span class="hljs-name">G92</span> E0
 64|  <span class="hljs-name">G1</span> Z1.150 F7800.000
 65|  <span class="hljs-name">G1</span> X102.240 Y97.760
 66|  <span class="hljs-name">G1</span> F1800.000 E1.00000
 67|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
 68|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
 69|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
 70|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
 71|  <span class="hljs-name">G1</span> F1800.000 E0.52469
 72|  <span class="hljs-name">G92</span> E0
 73|  <span class="hljs-name">G1</span> Z1.550 F7800.000
 74|  <span class="hljs-name">G1</span> X102.240 Y97.760
 75|  <span class="hljs-name">G1</span> F1800.000 E1.00000
 76|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
 77|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
 78|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
 79|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
 80|  <span class="hljs-name">G1</span> F1800.000 E0.52469
 81|  <span class="hljs-name">G92</span> E0
 82|  <span class="hljs-name">G1</span> Z1.950 F7800.000
 83|  <span class="hljs-name">G1</span> X102.240 Y97.760
 84|  <span class="hljs-name">G1</span> F1800.000 E1.00000
 85|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
 86|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
 87|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
 88|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
 89|  <span class="hljs-name">G1</span> F1800.000 E0.52469
 90|  <span class="hljs-name">G92</span> E0
 91|  <span class="hljs-name">G1</span> Z2.350 F7800.000
 92|  <span class="hljs-name">G1</span> X102.240 Y97.760
 93|  <span class="hljs-name">G1</span> F1800.000 E1.00000
 94|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
 95|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
 96|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
 97|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
 98|  <span class="hljs-name">G1</span> F1800.000 E0.52469
 99|  <span class="hljs-name">G92</span> E0
100|  <span class="hljs-name">G1</span> Z2.750 F7800.000
101|  <span class="hljs-name">G1</span> X102.240 Y97.760
102|  <span class="hljs-name">G1</span> F1800.000 E1.00000
103|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
104|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
105|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
106|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
107|  <span class="hljs-name">G1</span> F1800.000 E0.52469
108|  <span class="hljs-name">G92</span> E0
109|  <span class="hljs-name">G1</span> Z3.150 F7800.000
110|  <span class="hljs-name">G1</span> X102.240 Y97.760
111|  <span class="hljs-name">G1</span> F1800.000 E1.00000
112|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
113|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
114|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
115|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
116|  <span class="hljs-name">G1</span> F1800.000 E0.52469
117|  <span class="hljs-name">G92</span> E0
118|  <span class="hljs-name">G1</span> Z3.550 F7800.000
119|  <span class="hljs-name">G1</span> X102.240 Y97.760
120|  <span class="hljs-name">G1</span> F1800.000 E1.00000
121|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
122|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
123|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
124|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
125|  <span class="hljs-name">G1</span> F1800.000 E0.52469
126|  <span class="hljs-name">G92</span> E0
127|  <span class="hljs-name">G1</span> Z3.950 F7800.000
128|  <span class="hljs-name">G1</span> X102.240 Y97.760
129|  <span class="hljs-name">G1</span> F1800.000 E1.00000
130|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
131|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
132|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
133|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
134|  <span class="hljs-name">G1</span> F1800.000 E0.52469
135|  <span class="hljs-name">G92</span> E0
136|  <span class="hljs-name">G1</span> Z4.350 F7800.000
137|  <span class="hljs-name">G1</span> X102.240 Y97.760
138|  <span class="hljs-name">G1</span> F1800.000 E1.00000
139|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
140|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
141|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
142|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
143|  <span class="hljs-name">G1</span> F1800.000 E0.52469
144|  <span class="hljs-name">G92</span> E0
145|  <span class="hljs-name">G1</span> Z4.750 F7800.000
146|  <span class="hljs-name">G1</span> X102.240 Y97.760
147|  <span class="hljs-name">G1</span> F1800.000 E1.00000
148|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
149|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
150|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
151|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
152|  <span class="hljs-name">G1</span> F1800.000 E0.52469
153|  <span class="hljs-name">G92</span> E0
154|  <span class="hljs-name">G1</span> Z5.150 F7800.000
155|  <span class="hljs-name">G1</span> X102.240 Y97.760
156|  <span class="hljs-name">G1</span> F1800.000 E1.00000
157|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
158|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
159|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
160|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
161|  <span class="hljs-name">G1</span> X101.863 Y98.136 F7800.000
162|  <span class="hljs-name">G1</span> X101.864 Y98.882 F600.000 E1.54693
163|  <span class="hljs-name">G1</span> X101.118 Y98.136 E1.57838
164|  <span class="hljs-name">G1</span> X100.373 Y98.136 E1.60061
165|  <span class="hljs-name">G1</span> X101.864 Y99.627 E1.66350
166|  <span class="hljs-name">G1</span> X101.864 Y100.373 E1.68573
167|  <span class="hljs-name">G1</span> X99.627 Y98.136 E1.78006
168|  <span class="hljs-name">G1</span> X98.882 Y98.136 E1.80230
169|  <span class="hljs-name">G1</span> X101.864 Y101.118 E1.92807
170|  <span class="hljs-name">G1</span> X101.863 Y101.863 E1.95030
171|  <span class="hljs-name">G1</span> X98.137 Y98.137 E2.10750
172|  <span class="hljs-name">G1</span> X98.136 Y98.882 E2.12973
173|  <span class="hljs-name">G1</span> X101.118 Y101.864 E2.25550
174|  <span class="hljs-name">G1</span> X100.373 Y101.864 E2.27773
175|  <span class="hljs-name">G1</span> X98.136 Y99.627 E2.37206
176|  <span class="hljs-name">G1</span> X98.136 Y100.373 E2.39429
177|  <span class="hljs-name">G1</span> X99.627 Y101.864 E2.45718
178|  <span class="hljs-name">G1</span> X98.882 Y101.864 E2.47942
179|  <span class="hljs-name">G1</span> X98.136 Y101.118 E2.51087
180|  <span class="hljs-name">G1</span> X98.137 Y101.864 E2.53310
181|  <span class="hljs-name">G1</span> F1800.000 E1.53310
182|  <span class="hljs-name">G92</span> E0
183|  <span class="hljs-name">M107</span>
184|  <span class="hljs-name">M104</span> S0 <span class="hljs-comment">; turn off temperature</span>
185|  <span class="hljs-name">G28</span> X0  <span class="hljs-comment">; home X axis</span>
186|  <span class="hljs-name">M84</span>     <span class="hljs-comment">; disable motors</span>
187|
188|  <span class="hljs-comment">; filament used = 8.6mm (0.1cm3)</code></pre></span>

<p>Taking a closer look into lines 55-62, movements for four distinct corners can be viewed.  The extrusion of plastic between each movement is also listed and the filament required.</p>

<pre><code class="gcode hljs">55|  <span class="hljs-name">G1</span> Z0.750 F7800.000
56|  <span class="hljs-name">G1</span> X102.240 Y97.760
57|  <span class="hljs-name">G1</span> F1800.000 E1.00000
58|  <span class="hljs-name">G1</span> X102.240 Y102.240 F600.000 E1.13175
59|  <span class="hljs-name">G1</span> X97.760 Y102.240 E1.26349
60|  <span class="hljs-name">G1</span> X97.760 Y97.760 E1.39524
61|  <span class="hljs-name">G1</span> X102.162 Y97.760 E1.52469
62|  <span class="hljs-name">G1</span> F1800.000 E0.52469</code></pre>

<p>With each layer that needs to be completed, similar steps to these will be taken as the printer draws two dimensional squares over and over to complete the model.  The extrusion parameters are all determined by the Slic3r settings you have set for your printer and the G-code generated is the result of these settings.  Layer by layer the filament is layed out.</p>

<div class="btn-group btn-group-justified" id="page-next">
    <a href="#/gcode_basics" class="btn btn-default"><small><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span></small> G-code Basics</a>
    <a class="btn btn-default">Building A Model</a>
    <a href="#/building_a_model" class="btn btn-default">Building A Model <small><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></small></a>
</div>
